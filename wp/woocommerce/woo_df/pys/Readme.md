[toc]



## abstract

è¿™ä¸ªç›®å½•å­˜æ”¾ç”¨æˆ·ç›´æ¥è¿è¡Œçš„è„šæœ¬,ä¸Šä¸€å±‚ç›®å½•å­˜æ”¾çš„pyæ–‡ä»¶å¤§å¤šæ˜¯æ¨¡å—,é€šå¸¸ä¸ç”¨å…³å¿ƒ

**æ¨¡å—ç›¸å…³çš„è¯¦ç»†çš„æ–‡æ¡£å‚è€ƒä¸Šä¸€çº§ç›®å½•ä¸­çš„å„ä¸ªReadme@..md**(å¦‚æœæ˜¯é€šè¿‡`git clone https://gitee.com/xuchaoxin1375/scripts.git C:/repos/scripts` ,åˆ™ä½äº:`C:\repos\scripts\wp\woocommerce\woo_df`)



## å‘½ä»¤é¢„è§ˆ(æ€»ç»“)ğŸˆ

ä¸ºäº†æŸ¥é˜…æ–¹ä¾¿,å°†æ€»ç»“æ”¾åˆ°å¤´éƒ¨,ç¬¬ä¸€æ¬¡è¿è¡Œè¯·æŸ¥çœ‹[å®‰è£…ä¾èµ–]ä¸€èŠ‚

å¦‚æœæ²¡æœ‰ç‰¹æ®Šæç¤º,è¯·å§‹ç»ˆåœ¨powershell(pwsh7)ä¸­è¿è¡Œå‘½ä»¤,å¦åˆ™ä¼šå¤±è´¥



### ä¸€æ‰¹æ•°æ®å¯¼å‡ºCSVæ–‡ä»¶çš„å‘½ä»¤(ä¸€åˆ‡å§‹äºå¯¼å‡ºçš„csv)

> å¯¼å‡ºçš„csvæ•°é‡å…³ç³»åˆ°è¦ç”³è¯·çš„åŸŸåçš„æ•°é‡,å¯¼å‡ºè¿‡ç¨‹ä¸­ä¼šç§»é™¤ä¸è§„èŒƒçš„æ•°æ®æˆ–è€…åŒååŒå›¾ç‰‡é“¾æ¥çš„æ•°æ®,ç›´æ¥ä¼°è®¡é‡‡é›†å™¨ä¸­çš„é‡‡é›†æ•°é‡æ˜¯ä¸å¯é çš„!
>
> å°†csvçš„æ•°é‡é™¤ä»¥6æˆ–è€…7,è‡³å°‘æ˜¯6,å¾—åˆ°çš„ç»“æœå°±æ˜¯è¿™æ‰¹æ•°æ®è¦ç”³è¯·çš„åŸŸåæ•°é‡,å› ä¸ºä¸‹è½½å›¾ç‰‡ä»¥åŠå›¾ç‰‡è´¨é‡æ£€æŸ¥äººä¸ºç§»é™¤è¿‡ç¨‹ä¸­é€šå¸¸æœ‰æŸè€—
>
> ç„¶åå°±å¯ä»¥å»æ„æ€åŸŸåå¡«å†™è¡¨æ ¼å¹¶æ‰¹é‡éƒ¨ç½²æœ¬åœ°ç«™ç‚¹äº†

å¯¼å‡ºcsv è¾“å‡ºè·¯å¾„çš„å‚æ•°`--output-dir`;

> å¯¼å‡ºçš„æ—¶å€™åƒä¸‡è¦æ³¨æ„è¯­è¨€/å›½å®¶

### woo_get_csv.py

å…¶ä¸­`-f .jpg`è¡¨æ˜,å½“å›¾ç‰‡urlåç¼€ä¸æ˜¯ç™½åå•å›¾ç‰‡ç±»å‹,å°±ä¼šé»˜è®¤åŠ ä¸Šåç¼€`.jpg`

è€Œäº§å“æè¿°çš„é•¿åº¦å¦‚æœè¿‡çŸ­å¯èƒ½æ˜¯é‡‡é›†åˆ°`<br>`è¿™ç§æ ‡ç­¾,å¯ä»¥é€šè¿‡`-dl`æŒ‡å®šä¸€ä¸ªæœ€çŸ­æè¿°å­—ç¬¦ä¸²é•¿åº¦(æ¯”å¦‚å–10),æè¿°é•¿åº¦ä½äºæ­¤é•¿åº¦çš„äº§å“ä¼šè¢«ä¸¢å¼ƒ)

```powershell
python $pys\woo_get_csv.py -f .webp --start-id  $start_id --end-id $end_id  --language-country $language --output-dir $output_dir --sku-suffix $sku_suffix -dl 10
```

> å†æ¬¡å¼ºè°ƒ,å¯¼å‡ºçš„æ—¶å€™åƒä¸‡æ³¨æ„å¯¹åº”çš„å›½å®¶,æ¶‰åŠåˆ°é»˜è®¤äº§å“åˆ†ç±»(é¢åŒ…å±‘)åˆ†é…è¯è¯­çš„å•è¯æ‰€å±è¯­ç§,ä½¿ç”¨`--language-country`æˆ–è€…ç¼©å†™`-C`æ¥æŒ‡å®š,æ¯”å¦‚ç¾å›½ç”¨`US`,å¾·å›½`DE`,...

#### è·³è¿‡å¯¼å‡ºå°šæœªé‡‡é›†å®Œæ¯•çš„ä»»åŠ¡(-E)ğŸˆ

å¦‚æœè¦æ’é™¤åŒºé—´ä¸­çš„ä¸ªåˆ«ä»»åŠ¡,åˆ™è¿½åŠ ä½¿ç”¨`-E`é€‰é¡¹æŒ‡å®šç¼–å·(å¤šä¸ªç¼–å·é€—å·éš”å¼€)å­—ç¬¦ä¸²`"a,b,.."`,å°±å¯ä»¥æ’é™¤ä»»åŠ¡ç¼–å·`a,b,...`;

> å¦‚æœä¸€æ‰¹ç½‘ç«™é‡‡é›†ä¸­æœ‰å‡ ä¸ªæ•°æ®é‡å¾ˆå¤§æˆ–è€…é™åˆ¶ä½ çº¿ç¨‹æ•°1é‡‡é›†å¾ˆæ…¢æ‹–äº†å¾ˆä¹…,é‚£ä¹ˆè¿™å‡ ä¸ªå°±ç»™ä»–æ ‡è®°èµ·æ¥æš‚æ—¶è·³è¿‡å¯¼å‡º,ä¸å¿…ç­‰ä»–ä»¬é‡‡é›†å®Œ,å› ä¸ºæœ‰äº›ç½‘ç«™å›¾ç‰‡é“¾æ¥å¯èƒ½ä¼šè¿‡æœŸ,å°½å¿«æŠŠå·²ç»æœ‰çš„æ•°æ®å¯¼å‡ºå¹¶ä¸‹è½½å›¾ç‰‡ä¹Ÿä¸ç”¨æ‹…å¿ƒè¿™å‘¨å¯ä»¥å»ºç«™çš„æ•°é‡ä¸å¤Ÿ!

#### ä¸¥æ ¼å»é‡å¤(-R)

å°†äº§å“åç›¸åŒçš„äº§å“è§†ä¸ºé‡å¤,å»é‡åªä¿ç•™ä¸€ä¸ª(å³ä¾¿å›¾ç‰‡é“¾æ¥ä¸åŒä¹Ÿç§»é™¤æ‰),å¯ä»¥ä½¿ç”¨`-R`

é»˜è®¤æƒ…å†µä¸‹äº§å“åå’Œå›¾ç‰‡é“¾æ¥åŒæ—¶ç›¸åŒæ‰ä¼šè§†ä¸ºé‡å¤,å¯ä»¥å°½å¯èƒ½ä¿ç•™æ›´å¤šçš„äº§å“æ•°æ®

#### å®Œæ•´æ¨èçš„ä½¿ç”¨ç¤ºä¾‹ğŸˆ

ä¾‹å¦‚:

- å¯¼å‡ºé‡‡é›†å™¨ä¸­ä»»åŠ¡idèŒƒå›´ä¸º`354-378`çš„æ‰€æœ‰é‡‡é›†åˆ°çš„æ•°æ®,å¹¶ä¸”è¿™æ‰¹æ•°æ®æ˜¯åŒç±»äº§å“(æˆ·å¤–),æ¯”å¦‚éƒ½æ˜¯**ç¾å›½**(US)å¸‚åœº,å¯¼å‡ºçš„csvå­˜æ”¾åˆ°æŒ‡å®šç›®å½•:æ¡Œé¢çš„`outdoor_us_0711`ç›®å½•ä¸­(åç¼€0711è¡¨ç¤ºå¯¼å‡ºçš„æ—¥æœŸæ˜¯7æœˆ11å·)

- å¹¶ä¸”,å¦‚æœé‡åˆ°å›¾ç‰‡é“¾æ¥åç¼€éš¾ä»¥åˆ¤æ–­å‡ºå›¾ç‰‡ç±»å‹æ—¶,å°†å›¾ç‰‡åç§°ä½¿ç”¨é»˜è®¤åç¼€æ‰©å±•å`.webp`(å³ä¾¿å›¾ç‰‡å®é™…ä¸Šæ˜¯å…¶ä»–ç¼–ç æ ¼å¼ä¹Ÿæ²¡å…³ç³»,è¿™ä¸å½±å“æµè§ˆå™¨çš„æ˜¾ç¤º)
- å‘½ä»¤è¡Œå¦‚ä¸‹(å¯¹ä¸Šé¢çš„é€‰é¡¹è¿›è¡Œäº†ç¼©å†™,æ¯”å¦‚`-s`å’Œ`--start-id`ç­‰ä»·)

```powershell
$type='  å“ç±»  '.trim()
$country='  å›½å®¶ä»£å·(US/DE/FR/ES/IT/...)  '.trim()
$start=
$end=
$exclude='0' #å¦‚æœéœ€è¦æ’é™¤,å°†0ä¿®æ”¹ä¸ºä½ éœ€è¦çš„id(å¤šä¸ªidç”¨é€—å·åˆ†éš”)
python $pys\woo_get_csv.py -f .webp -s $start -e $end  -C $country -E $exclude -o "$desktop/$type-$country-$(date -format MMdd-hh-mm-ss)-[$start-$end]-E[$exclude]" -dl 10
```

---

##### æ™®é€šå¯¼å‡ºç¤ºä¾‹

ä¾‹å¦‚,å¯¼å‡º397~448åŒºé—´ä¸­çš„ä»»åŠ¡,è·³è¿‡446å·ä»»åŠ¡(é€šå¸¸æ˜¯å› ä¸ºé‡‡é›†ä»»åŠ¡æ²¡æœ‰ç»“æŸæˆ–è€…å·²çŸ¥æ•°æ®æœ‰é—®é¢˜è¦è·³è¿‡),ä½¿ç”¨äº†`-R`è¡¨ç¤ºä¸¥æ ¼å»é‡å¤

ç­‰åˆ°è¢«ä¸Šä¸€è½®æ’é™¤çš„446ä»»åŠ¡idç»“æŸé‡‡é›†,å°±å¯ä»¥å•ç‹¬å¯¼å‡º(å¯ä»¥åœ¨è¾“å‡ºè·¯å¾„è¿½åŠ å•ç‹¬å¯¼å‡ºçš„idç¼–å·)



```powershell
$type='  æ±½è½¦  '.trim()
$country='  DE '.trim()
$start=723
$end=735
$exclude='728' 
python $pys\woo_get_csv.py -f .webp -s $start -e $end -E $exclude -C $country  -o "$desktop/$type-$country-$(get-date -format MMdd-hh-mm-ss)-[$start-$end]-E[$exclude]" -dl 10 -nad
```



##### å•ç‹¬å¯¼å‡º



```powershell
$type='  æ±½è½¦  '.trim()
$country='  DE '.trim()
$start=728
$end=$start 
$exclude='0'
python $pys\woo_get_csv.py -f .webp -s $start -e $end -E $exclude -C $country  -o "$desktop/$type-$country-$(get-date -format MMdd-hh-mm-ss)-[$start-$end]-E[$exclude]" -dl 10 -nad # -
```

```powershell
$type='  æˆ¿è½¦  '.trim()
$country='  Uk '.trim()
$start=641
$end=676
$exclude='0'
python $pys\woo_get_csv.py -f .webp -s $start -e $end -E $exclude -C $country  -o "$desktop/$type-$country-$(get-date -format MMdd-hh-mm-ss)-[$start-$end]-E[$exclude]" -dl 10 -nad

```

#### ç»Ÿè®¡äº§å“æ•°é‡ğŸˆ

ä½¿ç”¨`-count`é€‰é¡¹(å¼€å…³)

```powershell
$type='  ç»Ÿè®¡  '.trim()
$country='  US '.trim()
$start=641
$end=676
$exclude='0'
python $pys\woo_get_csv.py -f .webp -s $start -e $end -E $exclude -C $country  -o "$desktop/$type-$country-$(date -format MMdd-hh-mm-ss)-[$start-$end]-E[$exclude]"  -count
```



---

### æ‰¹é‡åˆ›å»ºæœ¬åœ°wpç«™ç‚¹(nginxç«™ç‚¹)

æ‰¹é‡åˆ›å»ºæœ¬åœ°ç«™ç‚¹åªéœ€è¦ä¸€ä¸ªå‘½ä»¤,å…³é”®æ˜¯é…ç½®æ–‡ä»¶



> å¯ä»¥åœ¨vscodeä¸­å®‰è£…ä¸ªpowershellæ’ä»¶,æœ‰é«˜äº®æ˜¾ç¤º

```powershell
# æ‰¹é‡å¤åˆ¶ç«™ç‚¹å¹¶åˆ›å»ºå¯¹åº”çš„ç›®å½•(ç¬¬ä¸€æ¬¡ä½¿ç”¨å‰è¯·æŸ¥çœ‹å¯¹åº”æ–‡æ¡£)
Deploy-WpSitesLocal

```

è¿è¡Œå®Œæ¯•å,æ¡Œé¢(é»˜è®¤è·¯å¾„)ä¼šç”Ÿæˆä¸€ä»½`script...ps1`æ–‡ä»¶(åŒä¸€å¤©ç”Ÿæˆçš„æœ¬åœ°ç«™ç‚¹é…å¥—çš„å‘½ä»¤è¡Œä¼šå†™å…¥åˆ°åŒä¸€ä¸ªæ–‡ä»¶ä¸­,é»˜è®¤æ”¾åœ¨æ¡Œé¢çš„é…ç½®æ–‡ä»¶`my_wp_sites`ç›®å½•ä¸­),åŒæ—¶è¿˜ä¼šç”Ÿæˆä¸€ä¸ªç›®å½•`data_ouput`

#### é…ç½®æ–‡ä»¶my_table.conf

æ¯ä¸ªæœ¬åœ°ç«™ç‚¹é€šè¿‡åŸŸååˆ†å‰²,å’Œåˆ›å»ºçš„table(é»˜è®¤æŸ¥æ‰¾æ¡Œé¢çš„æ–‡ä»¶`my_table.conf`)æ–‡ä»¶ä¸­çš„åŸŸåæ˜¯å¯¹åº”çš„

my_table.confä¸­çš„å†…å®¹ç¤ºä¾‹:

```
https://lebenlshop.com	é‡‡é›†å‘˜1	2.de
https://wundeshop.com	é‡‡é›†å‘˜1	7.de
```

#### è¾“å‡ºç›®å½•my_wp_sites

æ‰§è¡Œå®Œ`deploy-wpsitelocal`å‘½ä»¤å,æœ€é‡è¦çš„æœ¬åœ°æ¨¡æ¿ç«™æ ¹ç›®å½•é›†ä¸­å­˜æ”¾åœ¨`my_wp_sites`ç›®å½•ä¸‹(é»˜è®¤ä½äºæ¡Œé¢)

```powershell
#âš¡ï¸[Administrator@CXXUDESK][~\Desktop\my_wp_sites][23:38:50][UP:17.41Days]
PS> tree_lsd -depth_opt 1
ï„• .
â”œâ”€â”€ ...
â”œâ”€â”€ ï„• lebenlshop.com
â””â”€â”€ ï„• wundeshop.com
â”œâ”€â”€ ï’‰ scripts_....ps1
```

è¿™é‡Œè¿˜é™„å¸¦ä¸€ä¸ªè„šæœ¬,åŒä¸€å¤©æ‰§è¡Œçš„æ‰¹é‡æœ¬åœ°å»ºç«™ç”Ÿæˆçš„é…å¥—è„šæœ¬ä¼šå­˜æ”¾åˆ°åŒä¸€ä»½`scripts_....ps1`ä¸­

```powershell
# =========[http://lebenlshop.com]:[C:\Users\Administrator\Desktop/my_wp_sites/lebenlshop.com]=============
python C:\repos\scripts\wp\woocommerce\woo_df\pys\image_downloader.py -c -n -R auto -k  -rs 1000 800  --output-dir C:\Users\Administrator\Desktop/my_wp_sites/lebenlshop.com/wp-content/uploads/2025 --dir-input C:\Users\Administrator\Desktop/data_output/lebenlshop.com -w 5 -U curl

python C:\repos\scripts\wp\woocommerce\woo_df\pys\woo_uploader_db.py --update-slugs  --csv-path C:\Users\Administrator\Desktop/data_output/lebenlshop.com --img-dir C:\Users\Administrator\Desktop/my_wp_sites/lebenlshop.com/wp-content/uploads/2025 --db-name lebenlshop.com 

Get-WpSitePacks -SiteDirecotry C:\Users\Administrator\Desktop/my_wp_sites/lebenlshop.com


# =========[http://wundeshop.com]:[C:\Users\Administrator\Desktop/my_wp_sites/wundeshop.com]=============
....

```

#### æœåŠ¡å™¨ä¸Šä¸‹è½½å›¾ç‰‡å’Œå¯¼å…¥æ•°æ®

> æœåŠ¡å™¨ä¸Šçš„ä»£ç å’Œæœ¬åœ°çš„æ˜¯åŒä¸€å¥—(é€šè¿‡/update_repos.shæ›´æ–°åŒæ­¥ä»£ç ),å¯ä»¥ä¸ºæ•°æ®è¡¥å……æä¾›ç±»ä¼¼çš„æœ¬åœ°å»ºç«™çš„æ“ä½œæ–¹æ³•

å°‘æ•°æƒ…å†µä¸‹éœ€è¦è¡¥æ•°æ®çš„æƒ…å†µä¸‹,å¯ä»¥è®²csvä¸Šä¼ åˆ°åˆé€‚çš„ç›®å½•ä¸‹,ç„¶åè°ƒç”¨å¯¹åº”çš„è„šæœ¬è¿›è¡Œä¸‹è½½å›¾ç‰‡åˆ°æŒ‡å®šç›®å½•ä¸‹(è¿™ä¸ªè¿‡ç¨‹å’Œæœ¬åœ°å»ºç«™ä¸­çš„å›¾ç‰‡ä¸‹è½½ç¯èŠ‚ååˆ†ç›¸ä¼¼)

æˆ‘ä»¥ç½‘ç«™`xcx`ç”¨æˆ·è¦å¯¹ç½‘ç«™`test.com`è¡¥å……æ•°æ®ä¸ºä¾‹(å…·ä½“è·¯å¾„æ ¹æ®å…·ä½“æƒ…å†µè¿›è¡Œè°ƒæ•´å’Œä¿®æ”¹),ä¸»è¦æ˜¯csvç›®å½•è·¯å¾„`--dir-input`å’Œå›¾ç‰‡ä¿å­˜è¾“å‡ºè·¯å¾„`--output-dir `

```bash
python3 /repos/scripts/wp/woocommerce/woo_df/pys/image_downloader.py -c -n -R auto -k  -rs 1000 800  --output-dir /www/wwwroot/xcx/test.com/wordpress/wp-content/uploads/2025 --dir-input /srv/uploads/uploader/files/xcx/test.com\ -w 10 
```

ä»ç„¶å¯ä»¥é€šè¿‡`-U curl`é€‰æ‹©curlä¸‹è½½å¼•æ“

ç­‰å›¾ç‰‡ä¸‹è½½å®Œæ¯•å,å¯ä»¥å¯¼å…¥æ–°çš„äº§å“æ•°æ®(csv)åˆ°ç½‘ç«™æ•°æ®åº“ä¸­

```bash
python3 /repos/scripts/wp/woocommerce/woo_df/pys/woo_uploader_db.py --update-slugs  --csv-path /srv/uploads/uploader/files/xcx/test.com --img-dir /www/wwwroot/xcx/test.com/wordpress/wp-content/uploads/2025 --db-name xcx_test.com --max-workers 20 --db-password <yourpassword> --db-host localhost
```

å¦‚æœæç¤º`root@127.0.0.1`access deny,å¯ä»¥å°è¯•åˆ›å»ºä¸€ä¸ª`root@127.0.0.1`çš„ç”¨æˆ·

#### è¾“å‡ºç›®å½•data_output

æ­¤å¤–,è¿˜ä¼šç”Ÿæˆå¯¹åº”çš„`data_output`,å†…éƒ¨å«æœ‰`my_table.conf`ä¸­é…ç½®çš„åŸŸåæ–‡ä»¶å¤¹,å°†å¯¼å‡ºçš„csvæ–‡ä»¶åˆ†é…(ç§»åŠ¨)åˆ°å¯¹åº”çš„ç›®å½•ä¸­(æ¯ä¸ªåŸŸåæ–‡ä»¶å¤¹ä¸­å­˜æ”¾6ä»½~7ä»½csv)

è¿™ä¸ªæ­¥éª¤éœ€è¦æ‰‹åŠ¨åˆ†é…!

ä¾‹å¦‚

```powershell

#âš¡ï¸[Administrator@CXXUDESK][~\Desktop\data_output][23:30:54][UP:17.4Days]
PS> tree_lsd
ï„• .
â”œâ”€â”€ ï„• lebenlshop.com
â”‚   â”œâ”€â”€ ï‡ƒ p1+.csv
â”‚   â”œâ”€â”€ ï‡ƒ p1.csv
â”‚   â”œâ”€â”€ ï‡ƒ p2+.csv
â”‚   â”œâ”€â”€ ï‡ƒ p2.csv
â”‚   â”œâ”€â”€ ï‡ƒ p3+.csv
â”‚   â”œâ”€â”€ ï‡ƒ p3.csv
â”‚   â””â”€â”€ ï‡ƒ p4.csv
â””â”€â”€ ï„• wundeshop.com
    â”œâ”€â”€ ï‡ƒ p4+.csv
    â”œâ”€â”€ ï‡ƒ p5+.csv
    â”œâ”€â”€ ï‡ƒ p5.csv
    â”œâ”€â”€ ï‡ƒ p6+.csv
    â”œâ”€â”€ ï‡ƒ p6.csv
    â”œâ”€â”€ ï‡ƒ p7.csv
    â””â”€â”€ ï‡ƒ p8.csv
```

### æ¸…ç†æœ¬åœ°å·²ç»ä¸Šçº¿ç«™ç‚¹ğŸˆ

ç½‘ç«™ä¸Šä¼ å¹¶è§£å‹ä¸Šçº¿å,å°±å¯ä»¥åˆ é™¤æœ¬åœ°ç½‘ç«™ç›¸å…³çš„ç›®å½•å’Œé…ç½®

é…å¥—çš„å‘½ä»¤ä¸º

```powershell
Remove-WpSitesLocal 
```

> æ³¨æ„,ç½‘ç«™ä¸Šçº¿å,æ•°æ®åº“,æ ¹ç›®å½•,ç³»ç»Ÿhosts,æœåŠ¡å™¨è½¯ä»¶é…ç½®(nginxä¸­çš„vhostsä¸­çš„confæ–‡ä»¶éœ€è¦å¯¹åº”åˆ é™¤ä»¥ä¿æŒç³»ç»Ÿç¯å¢ƒçš„å¹²å‡€)
>
> å°¤å…¶æ˜¯ç³»ç»Ÿhostsæ–‡ä»¶,å¦‚æœä¸Šçº¿åè¿˜ç•™æœ‰æœ¬åœ°ç«™ç‚¹hostsé…ç½®,å¯èƒ½ä¼šå› ä¸ºç¼“å­˜å½±å“åˆ°ç½‘ç«™çš„éƒ¨åˆ†å…ƒç´ åŠ è½½å¼‚å¸¸,æ¯”å¦‚é¦–é¡µå¹¿å‘Šå›¾ä¸æ˜¾ç¤ºç­‰é—®é¢˜,ä¸Šè¿°å‘½ä»¤å°†è‡ªåŠ¨æ¸…ç†è¿™äº›æ®‹ç•™;
>
> æ¸…ç†è¿‡ç¨‹éœ€è¦ä¸€å®šçš„æ—¶é—´(å¤§é‡å›¾ç‰‡å°æ–‡ä»¶åˆ é™¤éœ€è¦æ—¶é—´),ä¸ªåˆ«ç¯èŠ‚éœ€è¦ç”¨æˆ·äº¤äº’ç¡®è®¤åˆ é™¤





### æ¯ä¸ªç«™è¦å•ç‹¬æ‰§è¡Œçš„å‘½ä»¤è¡Œæ­¥éª¤

ä½¿ç”¨ä¸Šé¢çš„æœ¬åœ°æ‰¹é‡å»ºç«™ä¼š**è‡ªåŠ¨**ç”Ÿæˆä¸‹é¢æ ¼å¼çš„å‘½ä»¤è¡Œ

> å½“ç„¶ä¹Ÿå¯ä»¥**æ‰‹åŠ¨ä¿®æ”¹**ä¸‹é¢çš„å‘½ä»¤è¡Œ,å¦‚æœç¡®å®éœ€è¦æ‰‹åŠ¨ç¼–è¾‘,åˆ™å»ºè®®å¤åˆ¶ä¸‹é¢çš„å‘½ä»¤è¡Œä¿å­˜ä¸ºæ–‡æœ¬æ–‡ä»¶(åç¼€æ”¹ä¸º`.ps1`),ç„¶åç”¨vscodeç¼–è¾‘

ä¸‹é¢å‡ ä¸ªå‘½ä»¤åˆ†æ­¥æ‰§è¡Œ,ä¸è¦è¿ç€æ‰§è¡Œ(ä»…ä¾›å‚è€ƒ)

```powershell


# ä¸‹è½½å¹¶å¤„ç†å›¾ç‰‡(ä¸‹è½½è¿‡ç¨‹ä¸­æˆ–è€…ä¸‹è½½å®Œæ¯•è¦æŠ½æŸ¥çœ‹çœ‹æ˜¯å¦æœ‰ç ´å›¾æˆ–è€…ä¸å®Œæ•´çš„å›¾,å¦‚æœæ¯”è¾ƒå¤šè¦è­¦æƒ•)--image-mode {NAME_FROM_SKU,NAME_FROM_URL,NAME_AS_URL}
python $pys\image_downloader.py -c -n -R auto -k  -rs 1000 800  --output-dir $output_dir --dir-input $dir_input

# å¯¼å…¥äº§å“æ•°æ®åˆ°æ•°æ®åº“ä¸­
python $pys\woo_uploader_db.py --update-slugs  --csv-path $csv_path --img-dir $img_dir --db-name $domain_db 

# æ‰“åŒ…æˆå‹ç¼©åŒ…(å¦‚æœå®‰è£…äº†7z,è¿˜æ”¯æŒæ›´å¤šç§æ ¼å¼,é»˜è®¤æ‰“åŒ…æˆzip)
Get-WpSitePacks -SiteDirecotry $site_dir
```



### å…³äºä¸‹å›¾

å›¾ç‰‡ä¸‹è½½æƒ…å†µæ¯”è¾ƒå¤æ‚,æœ‰äº›é¡ºåˆ©çš„å¯ä»¥ç”¨ä¸Šè¿°é»˜è®¤é€‰é¡¹,å¦‚æœä¸‹è½½ä¸é¡ºåˆ©ï¼Œå¯ä»¥ç”¨å…¶ä»–é€‰é¡¹æ¥ä¿®æ”¹ä¸‹è½½ç­–ç•¥,æ¯”å¦‚ä½¿ç”¨ä»£ç†,ä½¿ç”¨ä¸åŒçš„ä¸‹è½½å¼•æ“(curl,iwr)

ä¾‹å¦‚,windowsä¸‹è½½å›¾ç‰‡

```powershell
python $pys\image_downloader.py -c -n -R auto -k  -rs 1000 800  --output-dir $desktop\my_wp_sites\wild-ridgegear.com\wp-content\uploads\2025 --dir-input $Desktop\data_output\wild-ridgegear.com
```

æˆ–è€…windwosç”±äºipæˆ–è€…ä»£ç†ä¸è¡Œ,æˆ–è€…æƒ³è¦èŠ‚çº¦ä»£ç†æµé‡,å¯ä»¥æŠŠä»»åŠ¡å§”æ‰˜åˆ°æœåŠ¡å™¨ä¸Šå»ä¸‹è½½(åªè¦æŠŠåŒ…å«å›¾ç‰‡é“¾æ¥çš„æ–‡ä»¶æ¯”å¦‚csvä¸Šä¼ åˆ°æœåŠ¡å™¨ä¸Š,ç„¶åç®¡ç†å‘˜è°ƒç”¨ä¸‹è½½å‘½ä»¤è¡Œè¿›è¡Œä¸‹è½½ä»»åŠ¡)

```bash
python3 /repos/scripts/wp/woocommerce/woo_df/pys/image_downloader.py -c -n -R auto -k  -rs 1000 800  -o images -d . -U curl -w 1 
```

è¿™é‡Œä»`-o`å¼€å§‹æ˜¯æ ¹æ®æƒ…å†µæŒ‡å®š,æ¯”å¦‚`-w 1`é’ˆå¯¹æ¯”åçˆ¬éªŒè¯çš„æƒ…å†µ,ä¸‹è½½æ¯”è¾ƒæ…¢

#### æµ‹è¯•å›¾ç‰‡ä¸‹è½½ğŸˆ

å¦‚æœæœ‰ä¸€ä¸ªç½‘ç«™å¾ˆéš¾é‡‡é›†,æˆ–è€…è®¿é—®å®¹æ˜“äººæœºéªŒè¯(æˆ–403),å¯ä»¥è€ƒè™‘æ‰“å¼€ä¸€ä¸ªäº§å“,ç„¶åäº§å“å›¾ç‰‡é“¾æ¥,ç”¨æµ‹è¯•å‘½ä»¤è¡Œæµ‹è¯•ä¸€ä¸‹çœ‹çœ‹èƒ½å¦ä¸‹è½½

ä¸è¡Œçš„è¯æ¢ä¸€ä¸‹ä»£ç†,æˆ–è€…æ›´æ¢ä¸‹è½½å¼•æ“(-U curlæˆ–iwr)

ä¾‹å¦‚:

```powershell
python $pys\image_downloader.py -i 'https://img95.699pic.com/photo/50076/2408.jpg_wh860.jpg' -O -o $desktop
```

ä¼šä¸‹è½½æµ‹è¯•é“¾æ¥`https://img95.699pic.com/photo/50076/2408.jpg_wh860.jpg`åˆ°æ¡Œé¢

#### æ‰“å¼€å›¾ç‰‡é“¾æ¥æ—¶é‡åˆ°cloudflareçš„äººæœºéªŒè¯

è¿™ç§å›¾ç‰‡å—åˆ°é˜²æŠ¤,ä½†æ˜¯ä¹Ÿæœªå¿…ä¸‹ä¸åŠ¨,å¯ä»¥å°è¯•å¤šæ›´æ¢ä»£ç†åé‡è¯•



#### è¦ä¿å­˜çš„å›¾ç‰‡åè¿‡é•¿å¯¼è‡´ä¸‹è½½å¤±è´¥

åœ¨å¯¼å‡ºæ•°æ®åˆ°csvæ–‡ä»¶æ—¶å€™,å¯ä»¥é€‰æ‹©å¯¼å‡ºæ¨¡å¼(ä¸»è¦æ˜¯å›¾ç‰‡æ¨¡å¼),

```bash
--image-mode {NAME_FROM_SKU,NAME_FROM_URL,NAME_AS_URL,NAME_MIX}
```

å¦‚æœä½¿ç”¨`NAME_FROM_SKU`,æ–‡ä»¶åæœ€ä¸ºè§„æ•´,é—®é¢˜æœ€å°‘;(ä½†æ˜¯ç¼ºå°‘äº†åŸurlä¸­åŒ…å«çš„æ–‡ä»¶åä¿¡æ¯)

å¦‚æœä½¿ç”¨`NAME_MIX`æˆ–`NAME_FROM_URL`,ç”±äºæ¶‰åŠåˆ°æˆªå–urlä¸­çš„è·¯å¾„æ–‡ä»¶å,å¯èƒ½é‡åˆ°è®¸å¤šç»†èŠ‚é—®é¢˜.

åœ¨windowsç³»ç»Ÿä¸­,é»˜è®¤æƒ…å†µä¸‹æ–‡ä»¶åçš„æœ€å¤§é•¿åº¦å…è®¸260ä¸ªå­—ç¬¦å·¦å³,å°‘æ•°å›¾ç‰‡é“¾æ¥ä¸­çš„æ–‡ä»¶åå¾ˆé•¿(è¶…è¿‡äº†è¿™ä¸ªä¸Šé™,å³ä¾¿å›¾ç‰‡é“¾æ¥æ²¡æœ‰åšåçˆ¬æˆ–é˜²ç›—,ä¹Ÿæ— æ³•ä¿å­˜ä¸‹æ¥,é™¤éæŠŠä¿å­˜çš„æ–‡ä»¶åç¼©çŸ­)

è€ƒè™‘åˆ°è¿™ä¸ªé—®é¢˜,åœ¨å¯¼å‡ºcsvçš„è¿‡ç¨‹ä¸­ä¸ºå›¾ç‰‡é“¾æ¥å°†è¦ä¿å­˜çš„æ–‡ä»¶ååšäº†é•¿åº¦é™åˆ¶,ä»…æˆªå–å…¶ä¸­çš„å‰100ä¸ªå­—ç¬¦,é˜²æ­¢å› ä¸ºæ–‡ä»¶åè¿‡é•¿å¯¼è‡´æ–‡ä»¶æ— æ³•ä¸‹è½½å’Œåˆ›å»ºæˆåŠŸ!

å¦ä¸€æ–¹é¢,å›¾ç‰‡åä¸­å¦‚æœåŒ…å«`%`è¿™ç±»ç‰¹æ®Šç¬¦å·,è™½ç„¶å¯èƒ½ä¸‹è½½æˆåŠŸ,ä½†æ˜¯wordpressç«™ä¸­å›¾ç‰‡ä¼šæ˜¾ç¤ºä¸å‡ºæ¥(å›¾ç‰‡é“¾æ¥æ— æ•ˆ,ä¸º404),è¿™ä¸ªç»†èŠ‚é—®é¢˜åœ¨è„šæœ¬ä¸­ä¹Ÿåšäº†ç›¸åº”çš„å¤„ç†

### å•ç‹¬å‹ç¼©å›¾ç‰‡ğŸˆ

å¯ä»¥é€‰æ‹©å•ç‹¬å‹ç¼©å·²æœ‰çš„å›¾ç‰‡

å‘½ä»¤

```powershell
python $pys\image_compresser.py 
```

åŸºæœ¬å‚æ•°

```py
-R auto -p -F  -O -k -f webp  -r 1000 800  -i
```

> å¦‚æœéœ€è¦é¢å¤–å‹ç¼©å›¾ç‰‡,å¯ä»¥å•ç‹¬ä½¿ç”¨`image_compress.py`æ¥å‹ç¼©,è¯¦æƒ…å¦è§ä¸Šä¸€çº§ç›®å½•ä¸­çš„å¯¹åº”çš„readmeæ–‡æ¡£

ä¾‹å¦‚:

```powershell
python $pys\image_compresser.py -R auto -p -F  -O -k -f webp  -r 1000 800  -s webp -i .  #é»˜è®¤å‹ç¼©å½“å‰ç›®å½•,è·³è¿‡webpå›¾ç‰‡çš„å‹ç¼©(å¯¹äºæ··åˆç›®å½•ä¸€èˆ¬å‹ç¼©è¿‡å¦ä¸€åŠæ²¡å‹ç¼©çš„æƒ…å†µ)
```

-   [ReadMe@image_compresser@ImgCompresser.md](..\ReadMe@image_compresser@ImgCompresser.md) 


### æŸ¥çœ‹å‘½ä»¤è¡Œå¸®åŠ©

æŸ¥çœ‹å¸®åŠ©(é€‰é¡¹å«ä¹‰ä¸æ¸…æ¥šçš„å¯ä»¥ä½¿ç”¨`-h`å‚æ•°,ä¸Šè¿°å‘½ä»¤éƒ½æ”¯æŒè¿™ä¸ªé€‰é¡¹å’Œæ–¹å¼æ¥è·å–å‘½ä»¤è¡Œçš„é€‰é¡¹è¯´æ˜),ä¾‹å¦‚

```powershell
python $pys\woo_get_csv.py -h
```



## å®‰è£…ä¾èµ–(ç¬¬ä¸€æ¬¡ä½¿ç”¨å¿…çœ‹)ğŸˆ

ç¬¬ä¸€æ¬¡ä½¿ç”¨,éœ€è¦å…ˆå®‰è£…ä¾èµ–,æ‰“å¼€å‘½ä»¤è¡Œçª—å£,æ‰§è¡Œ:

```powershell
pip install -r $woo_df/requirements.txt

```

é…ç½®ç¯å¢ƒå˜é‡(å¦è§æœ¬ä»“åº“å…¶ä»–è¯´æ˜æ–‡æ¡£)

 [Readme@Env.md](..\Readme@Env.md) 



## ä¸»è¦æ­¥éª¤å’Œç»†èŠ‚



### æœ¬åœ°wordpressç«™ç‚¹æ‰¹é‡å¤åˆ¶ğŸˆ

èŠ‚çº¦ç¯‡å¹…,è¯¦æƒ…å¦è§å®ƒæ–‡ [ReadMe@Deploy-WpSitesLocal.md](..\ReadMe@Deploy-WpSitesLocal.md) 



### å¯¼å‡ºcsv

- å°†`$start`å’Œ`$end`æ›¿æ¢ä¸ºé‡‡é›†å™¨ä¸­çš„ä½ éœ€è¦å¯¼å‡ºçš„æ•°æ®çš„å¯¹åº”ä»»åŠ¡çš„id
- å°†`$language`æ›¿æ¢ä¸ºä½ è¿™æ‰¹æ•°æ®å¯¹åº”çš„è¯­è¨€/å›½å®¶ä»£å·(å¯ä»¥æ˜¯å›½å®¶ä»£ç ['US', 'UK', 'IT', 'DE', 'ES', 'FR'])

```powershell
python $pys\woo_get_csv.py -s $start -e $end -C $language
```

è¯¦æƒ…æŸ¥çœ‹å¸®åŠ©å‘½ä»¤è¡Œ:

```powershell
python $pys\woo_get_csv.py -h
```



### å›¾ç‰‡ä¸‹è½½

æŠŠä¸‹é¢çš„ä»£ç ç‰‡æ®µå¤åˆ¶åˆ°ä¸€ä¸ªç©ºçš„è®°äº‹æœ¬æˆ–è€…vscodeæ–°å»ºä¸€ä¸ªç¼–è¾‘é¡µé¢,å¡«å†™å¿…è¦çš„å†…å®¹,ç„¶åç²˜è´´åˆ°powershellçª—å£ä¸­è¿è¡Œ

```powershell
#å°†è·¯å¾„å¡«å†™åˆ°å¼•å·ä¸­,ä¸¤ä¾§å¤šä½™çš„ç©ºæ ¼å¯ä»¥ä¿ç•™,æ–¹ä¾¿å¡«å†™(ç¡®ä¿pythonå‘½ä»¤å­˜åœ¨å¹¶å¯ä»¥è¿è¡Œ)
$o="       ".trim() #è¡¨ç¤ºä¸‹è½½çš„å›¾ç‰‡ä¿å­˜ä½ç½®(è¾“å‡ºç›®å½•output_dir)
$d="       ".trim() #è¡¨ç¤ºå¯¼å‡ºçš„csvæ–‡ä»¶æ‰€åœ¨ç›®å½•
python $pys\image_downloader.py -c -n -R auto -k  -o $o -d $d

```

> å¯¹äºæˆ‘ä»¬çš„ä¸šåŠ¡,éœ€è¦å…³å¿ƒçš„å‚æ•°æœ‰ä¸¤ä¸ª

- ä¸€ä¸ªæ˜¯`-o`,è¡¨ç¤ºå›¾ç‰‡ä¸‹è½½è¦ä¿å­˜åˆ°å“ªä¸ªç›®å½•ä¸‹(é€šå¸¸å»ºè®®å¡«å†™ç½‘ç«™çš„ä¸“é—¨å­˜æ”¾æ–‡ä»¶å›¾ç‰‡çš„ç›®å½•,ä¾‹å¦‚`....\1.de\wp-content\uploads\2025`)
- `-d`è¡¨ç¤ºç½‘ç«™çš„csvæ–‡ä»¶æ‰€åœ¨ç›®å½•,å³ä½¿ç”¨`woo_get_csv.py`å¯¼å‡ºçš„csvæ–‡ä»¶æ‰€åœ¨ç›®å½•

è¿™ç§ç›®å½•ä¸‹é¢å¯èƒ½è¿˜æœ‰æœˆä»½ç»†åˆ†,æˆ‘ä»¬ç®€å•èµ·è§,å°±ä¸ç®¡æœˆä»½,ç›´æ¥å°†æ–‡ä»¶æ”¾åˆ°å¹´ä»½çš„ç›®å½•ä¸‹(æ¨¡æ¿æ ¹ç›®å½•ä¸‹çš„`wp-content\uploads\2025`)

```powershell
#âš¡ï¸[Administrator@CXXUDESK][C:\sites\wp_sites\1.de\wp-content\uploads\2025][9:47:42][UP:16.9Days]
PS> ls

    Directory: C:\sites\wp_sites\1.de\wp-content\uploads\2025

Mode                 LastWriteTime         Length Name
----                 -------------         ------ ----
d----            2025/3/5    10:12                01
d----            2025/3/5    10:12                02
d----           2025/3/31    13:53                03
d----           2025/4/22    16:16                04
d----            2025/5/7    15:11                05
```

#### FAQ å’Œå·²çŸ¥é—®é¢˜

è§£å†³è¿›ç¨‹å ç”¨çš„é—®é¢˜,å¯ä»¥è€ƒè™‘ä½¿ç”¨sleep,å»¶è¿Ÿä¸€äº›é˜²æ­¢æ“ä½œå†²çª

```bash
ERROR:imgcompresser:å¤„ç†å›¾ç‰‡å¤±è´¥: [WinError 32] å¦ä¸€ä¸ªç¨‹åºæ­£åœ¨ä½¿ç”¨æ­¤æ–‡ä»¶ï¼Œè¿›ç¨‹æ— æ³•è®¿é—®ã€‚: 'C:\\Users\\Administrator\\Desktop/my_wp_sites/summitandsea24.com/wp-content/uploads/2025\\HHA_Nytryx_Pro_X119_1.tmp.webp' -> 'C:\\Users\\Administrator\\Desktop/my_wp_sites/summitandsea24.com/wp-content/uploads/2025\\HHA_Nytryx_Pro_X119_1.webp'
```

#### curl é”™è¯¯

å¸¸è§é”™è¯¯ç 22å¯èƒ½å¯¹åº”å¤šç§å¯èƒ½,å…·ä½“çš„httpé”™è¯¯éœ€è¦çœ‹`curl: (22) ...error:`,å¸¸è§çš„æ˜¯404æˆ–è€…403,å‰è€…è¯´æ˜å›¾ç‰‡è¿‡æœŸäº†,åè€…éœ€è¦æ³¨æ„,å¯èƒ½æ˜¯ipè¢«é™æ­¢,å¯ä»¥è€ƒè™‘æ›´æ¢èŠ‚ç‚¹,é™ä½çº¿ç¨‹æ•°(æ¯”å¦‚2çº¿ç¨‹)

```bash
curl: (22) The requested URL returned error: 404

2025-06-26 08:36:26,919 - imgdown - ERROR - curl æ‰§è¡Œå¤±è´¥ï¼Œé”™è¯¯ç : 22
ERROR:imgdown:curl æ‰§è¡Œå¤±è´¥ï¼Œé”™è¯¯ç : 22
```

ä¹Ÿæœ‰28è¿™ç±»é”™è¯¯

### å¯¼å…¥äº§å“æ•°æ®

```cmd
python $pys\woo_uploader_db.py -c $csv_path -i $img_dir 
```

## å¸¸è§é—®é¢˜@FAQ

### ç½‘ç«™ä¸Šçº¿åé¦–é¡µå¹¿å‘Šå›¾æ— æ³•æ˜¾ç¤º

å¦‚æœè£…ä¿®çš„æ—¶å€™ç¡®å®è®¾ç½®äº†é¦–é¡µå¹¿å‘Šå›¾é€šå¸¸åœ¨å…¶ä»–è®¾å¤‡æµè§ˆå™¨å¯ä»¥çœ‹åˆ°æ˜¾ç¤ºæ˜¯æ­£å¸¸çš„

è£…ä¿®ç½‘ç«™æ‰€ç”¨çš„æµè§ˆå™¨å¯èƒ½ä¼šå› ä¸ºåŸæ¥çš„ç«™è¢«åˆ é™¤,ä½†æ˜¯hostsä¸­ä»ç„¶é…ç½®äº†æœ¬åœ°ç«™çš„æ˜ å°„,å¯¼è‡´æµè§ˆä¸Šçº¿çš„ç½‘ç«™(https)ä¸­å¹¿å‘Šå›¾(ä»ç„¶æ˜¯httpé“¾æ¥,è€Œä¸”ä¼˜å…ˆè¯»å–ç¼“å­˜è¿‡çš„å›¾ç‰‡èµ„æº,ä½†æ˜¯å®é™…ä½ç½®è¢«åˆ é™¤ä»è€Œæ˜¾ç¤ºä¸ºç©º)

åŠæ³•æœ‰ä¸¤ç±»:

- ç§»é™¤hostsæ–‡ä»¶ä¸­å¯¹åº”çš„åŸŸåè§£æ(ä½¿ç”¨`Remove-WpSiteLocal`å¯ä»¥è‡ªåŠ¨å¤„ç†)
- ä¿®æ”¹æ ¹ç›®å½•ä¸­çš„æ¨¡æ¿ä¸­cssè·¯å¾„

### æœ¬åœ°ç½‘ç«™æ‰“ä¸å¼€(502/503)ğŸ‘º

#### 502

- 502é”™è¯¯å¯èƒ½æ˜¯å› ä¸ºnginx(æˆ–å°çš®è½¬å‘ç«¯å£)çš„æœåŠ¡ç«¯å£é…ç½®ä¸æ­£ç¡®,ä½¿ç”¨å‘½ä»¤æŸ¥è¯¢(é€šå¸¸æ˜¯9001æˆ–9002),ä¹Ÿå¯ä»¥åˆ†è¢«å°è¯•è¿™ä¸¤ä¸ªç«¯å£(ä¿®æ”¹å¯¹åº”çš„vhostsæ–‡ä»¶confé…ç½®,å¹¶ä¸”é‡å¯nginxæ¥ç”Ÿæ•ˆä¿®æ”¹)

  ```powershell
   $p=Get-NetTCPConnection |?{$_ -like '*900*'};$p;ps -Id $p.OwningProcess|ft
   ps -Id $p.OwningProcess|ft
   
  ```


å¦‚æœå°çš®çš„è½¬å‘ç«¯å£(`xp.cn_cgi.exe`ç›‘å¬çš„ç«¯å£)å‘ç”Ÿå˜åŒ–,å¹¶ä¸”ä½ æ‰“ç®—æ‰¹é‡ä¿®æ”¹vhost,å¯ä»¥ç”¨vscodeæ‰“å¼€nginxçš„vhostsç›®å½•,ç„¶åä½¿ç”¨`ctrl+shift+h`æœç´¢æ—§ç«¯å£ç„¶åæ‰¹é‡æ›¿æ¢ä¸ºæ–°ç«¯å£

æ³¨æ„ï¼Œç«¯å£ä¿®æ”¹åéœ€è¦é‡å¯nginx;å¦‚æœä»ç„¶æ‰“ä¸å¼€,å…ˆè¯•è¯•å¼ºåˆ¶åˆ·æ–°ctrl+F5,è¿˜ä¸è¡Œåˆ™å»ºè®®ç”¨æ–°çš„æµè§ˆå™¨(æ¯”å¦‚éšç§æ¨¡å¼æˆ–è€…å…¶ä»–æµè§ˆå™¨æ‰“å¼€,å…³é—­ä»£ç†é¿å…æ„ŸæŸ“),æ¸…ç©ºæµè§ˆå™¨æ•°æ®ä»£ä»·å¤ªå¤§,ä¸å»ºè®®è½»æ˜“è¿™ä¹ˆåš

> è™½ç„¶æœ¬åœ°æ‰¹é‡å»ºç«™é»˜è®¤æƒ…å†µä¸‹ä¼šå°è¯•æ‰«æç«¯å£å¹¶è‡ªåŠ¨é…ç½®ç«¯å£,ä½†æ˜¯è¿™ä¸ªæ–¹æ³•ä¸å®Œå…¨å¯é ,ä¸Šè¿°æ‰¹é‡ä¿®æ”¹çš„æ–¹æ³•ä½œä¸ºå¤‡ç”¨,ä¸€èˆ¬å¾ˆå°‘éœ€è¦æ”¹åŠ¨

#### 503

- 503é”™è¯¯é€šå¸¸æ˜¯ä»£ç†è½¯ä»¶å¼•èµ·çš„é”™è¯¯,éœ€è¦æ­£ç¡®é…ç½®
  - é»˜è®¤æƒ…å†µä¸‹,ä¸å»ºè®®å¼€å¯ä»£ç†è½¯ä»¶çš„ç³»ç»Ÿä»£ç†è®¾ç½®,æµè§ˆå™¨ä¸­ä»£ç†é…ç½®(æ¯”å¦‚proxyifyæ’ä»¶ä¸­åˆ‡æ¢åˆ°å…³é—­é€‰é¡¹,æš‚æ—¶ä¸èµ°ä»£ç†çœ‹çœ‹æ˜¯ä¸æ˜¯ä»£ç†å¼•èµ·çš„)
  - ä¾‹å¦‚Quik Q,åœ¨è®¾ç½®->é«˜çº§è®¾ç½®->å¯åŠ¨ä»¥ä¸‹å¼€å…³:(å¦‚æœå·²ç»éƒ½è®¾ç½®äº†ç›¸åº”å¼€å…³,åˆ™é‡å¯è¯¥è½¯ä»¶ç„¶åå†æ¬¡æ£€æŸ¥èƒ½å¦è®¿é—®æœ¬åœ°ç«™)
    1. ç³»ç»Ÿhostsä¼˜å…ˆ
    2. æ–­è¿ä¼˜åŒ–
    3. ä»£ç†è§„åˆ™é…ç½®127.0.0.1
    4. ä¸è‡ªåŠ¨å¼€æœºç³»ç»Ÿä»£ç†(å…³é”®)
    5. ç½‘ç»œå¼‚å¸¸æ—¶æ–­å¼€é“¾æ¥
  - ç±»ä¼¼çš„å°çŒ«å’ªä»£ç†é€šå¸¸ä¸ä¼šå½±å“æœ¬åœ°ç«™çš„è®¿é—®,ä½†æ˜¯ä¹Ÿå¯èƒ½å‡ºbug,å¯èƒ½éœ€è¦é‡å¯å°çŒ«å’ª,åŒæ—¶è¦ä¿è¯å¯¹åº”çš„çº¿è·¯å»¶è¿Ÿæ£€æµ‹ä¸æ˜¯error

### æœ¬åœ°ç«™ç‚¹æ‰“ä¸å¼€æˆ–åˆ™æ€»æ˜¯è·³è½¬åˆ°httpsé“¾æ¥

ç”±äºæ“ä½œç³»ç»Ÿ(windows)æˆ–è€…å°çš®å·¥å…·ç®±çš„bug,å¯èƒ½ä¼šé‡åˆ°æœ¬åœ°ç«™ç‚¹åˆ›å»ºç»“æŸå(æ²¡æœ‰æŠ¥é”™)å´æ‰“ä¸å¼€

å³ä¾¿ä¸ç»•è¿‡å°çš®æ–°å»ºç«™ç‚¹,ä½¿ç”¨å°çš®åˆ›å»ºçš„æœ¬åœ°ç«™ç‚¹ä¹Ÿå¯èƒ½æ‰“ä¸å¼€,ä¼šå°è¯•è·³è½¬åˆ°å…¬ç½‘



è¿™ç§æƒ…å†µä¸‹å¯ä»¥å°è¯•pingä¸€ä¸‹æœ¬åœ°ç«™ç‚¹çš„åŸŸå,å¦‚æœpingçš„ç»“æœä¸æ˜¯`127.0.0.1`,è¯´æ˜ç³»ç»Ÿå†…éƒ¨å¯èƒ½æœ‰é”™è¯¯,å¯ä»¥å°è¯•é‡å¯,ä½†æ˜¯ä¸ä¸€å®šæœ‰ç”¨

ä¾‹å¦‚æˆ‘æœ¬åœ°ç”¨å°çš®å»ºäº†ä¸€ä¸ª`1.de`çš„æœ¬åœ°ç«™ç‚¹,é€šå¸¸æ­£å¸¸æƒ…å†µä¸‹,å°çš®æ–°å»ºå®Œç«™ç‚¹åä¼šåŒæ­¥ä¿®æ”¹ç³»ç»Ÿ`hosts`æ–‡ä»¶(C:/WINDOWS/System32/drivers/etc/hosts)

é¦–å…ˆå°è¯•æ£€æŸ¥`hosts`æ–‡ä»¶,çœ‹çœ‹127.0.0.1 ç›¸å…³è¡Œæ˜¯å¦å­˜åœ¨,å¹¶ä¸”æ£€æŸ¥æ˜¯å¦è¢«è¢«æ„å¤–æ³¨é‡Šæ‰(#å¼€å¤´ä¼šå¯¼è‡´æ˜ å°„å¤±æ•ˆ)

```powershell
PS> ping 1.de

æ­£åœ¨ Ping 1.de [83.243.59.78] å…·æœ‰ 32 å­—èŠ‚çš„æ•°æ®:
æ¥è‡ª 83.243.59.78 çš„å›å¤: å­—èŠ‚=32 æ—¶é—´=203ms TTL=49
æ¥è‡ª 83.243.59.78 çš„å›å¤: å­—èŠ‚=32 æ—¶é—´=202ms TTL=49
```

è¿™æ„å‘³ç€ç½‘ç«™å¯èƒ½æ— æ³•æ‰“å¼€

ä½†æ˜¯æµè§ˆå™¨ä¸­æƒ…å†µåˆæœ‰ä¸€å®šçš„åŒºåˆ«,å¯èƒ½å¯ä»¥æ‰“å¼€æœ¬åœ°ç«™ç‚¹

å¯ä»¥å°è¯•æ›´æ”¹DNSæœåŠ¡å™¨(å‘½ä»¤è¡Œä¸­è¾“å…¥ncpa.cplæ‰“å¼€è®¾ç½®å…¥å£)
